Version 4
SHEET 1 1496 680
WIRE 192 -160 192 -224
WIRE 288 -160 288 -208
WIRE 192 -32 192 -80
WIRE 288 -32 288 -80
WIRE -96 32 -96 -32
WIRE 736 32 736 -16
WIRE 512 48 512 16
WIRE 736 128 736 112
WIRE 736 128 624 128
WIRE 912 128 736 128
WIRE 624 144 624 128
WIRE 160 160 160 112
WIRE 736 160 736 128
WIRE -160 176 -192 176
WIRE -96 176 -96 112
WIRE -96 176 -160 176
WIRE 128 176 0 176
WIRE 240 192 192 192
WIRE 272 192 240 192
WIRE 400 192 352 192
WIRE 512 192 512 128
WIRE 512 192 464 192
WIRE 560 192 512 192
WIRE 1072 192 1072 128
WIRE 128 208 64 208
WIRE 1040 208 896 208
WIRE 1168 224 1104 224
WIRE 1200 224 1168 224
WIRE -416 240 -480 240
WIRE -192 240 -192 176
WIRE -192 240 -224 240
WIRE -96 240 -96 176
WIRE 160 240 160 224
WIRE 736 240 736 224
WIRE 832 240 736 240
WIRE 896 240 896 208
WIRE 896 240 832 240
WIRE 912 240 912 128
WIRE 1040 240 912 240
WIRE 736 256 736 240
WIRE 832 272 832 240
WIRE 1072 288 1072 256
WIRE -480 320 -480 240
WIRE -480 320 -640 320
WIRE -416 336 -448 336
WIRE -192 336 -224 336
WIRE -96 336 -96 304
WIRE 0 336 0 176
WIRE 0 336 -96 336
WIRE 64 336 64 208
WIRE 160 336 64 336
WIRE 240 336 240 192
WIRE -640 352 -640 320
WIRE -96 352 -96 336
WIRE 64 352 64 336
WIRE 736 368 736 336
WIRE 832 368 832 336
WIRE 832 368 736 368
WIRE -448 384 -448 336
WIRE -192 432 -192 336
WIRE -96 464 -96 432
WIRE 64 464 64 432
WIRE 624 464 624 240
WIRE 736 464 736 368
WIRE -640 480 -640 432
FLAG 64 464 0
FLAG 160 112 0
FLAG 160 240 VCC
FLAG -96 -32 VCC
FLAG -96 464 0
FLAG 288 -208 VCC
FLAG 288 -32 0
FLAG -192 432 0
FLAG -640 480 0
FLAG 624 464 0
FLAG 736 -16 VCC
FLAG 736 464 0
FLAG 1072 288 0
FLAG 512 16 VCC
FLAG -448 384 0
FLAG 192 -32 0
FLAG 192 -224 5V
FLAG 1072 128 5V
FLAG -160 176 IN
FLAG 1168 224 OUT
SYMBOL res 256 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 30 68 VTop 2
SYMATTR InstName R1
SYMATTR Value 30K
SYMBOL res 80 448 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 6.8K
SYMBOL cap -112 240 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res -112 16 R0
SYMATTR InstName R3
SYMATTR Value 10K
SYMBOL res -112 336 R0
SYMATTR InstName R4
SYMATTR Value 30K
SYMBOL voltage 288 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 6
SYMBOL res 368 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL cap 464 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL res 528 144 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 470K
SYMBOL voltage -640 336 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 2 2 1n 1n 4.999999 5)
SYMBOL npn 560 144 R0
SYMATTR InstName Q1
SYMATTR Value BC547B
SYMBOL res 720 16 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 720 240 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res 1296 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10K
SYMBOL diode 720 160 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL Opamps\\OP291 160 256 M180
SYMATTR InstName U3
SYMBOL Optos\\4N25 -320 304 R0
SYMATTR InstName U1
SYMBOL cap 816 272 R0
SYMATTR InstName C4
SYMATTR Value 100µ
SYMBOL Comparators\\LT1720 1072 160 R0
SYMATTR InstName U4
SYMBOL voltage 192 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 5
TEXT -352 488 Left 2 !.tran 30s
